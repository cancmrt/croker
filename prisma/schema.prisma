// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  output   = "../src/prisma-client"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model VaultType {
  Id Int @id @default(autoincrement())
  Name String 
  IsDeleted Boolean @default(false)
  Values VaultValues[]
}

model VaultValues {
  Id Int @id @default(autoincrement())
  Name String
  Value String
  Type VaultType @relation(fields: [VaultTypeId], references: [Id])
  VaultTypeId Int
  DateOfValue DateTime
  IsDeleted Boolean @default(false)

}

model Jobs {

  Id Int @id @default(autoincrement())
  Name String
  ExecuterClass String
  ExecuteCronTime String
  Version String @default("1.0.0")
  IsDeleted Boolean @default(false)
  IsActive Boolean @default(true)
  IsRunningNow Boolean @default(false)
  Params JobParams[]
  Logs JobLogs[]
  Values JobValues[]

}

model JobParams{
  Id Int @id @default(autoincrement())
  Name String
  Value String
  IsDeleted Boolean @default(false)
  Job Jobs @relation(fields: [JobId], references: [Id])
  JobId Int
}

model JobValues{
  Id Int @id @default(autoincrement())
  Name String
  Value String
  DateOfValue DateTime
  IsDeleted Boolean @default(false)
  Job Jobs @relation(fields: [JobId], references: [Id])
  JobId Int
}

model JobLogs{
  Id Int @id @default(autoincrement())
  Job Jobs @relation(fields: [JobId], references: [Id])
  JobId Int
  Message String
  ExecuteTime DateTime
  IsError Boolean
  IsWarning Boolean
}
